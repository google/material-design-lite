---
import Components from "../../layouts/Components.astro";
// import Markdown from "../../components/Markdown.astro";
import { COMPONENTS } from "../../utils/menu";

export async function getStaticPaths() {
  const posts = await Astro.glob("../../data/components/*.md");
  return posts.map((component) => {
    const parts = component.file.split("/");
    const id = parts[parts.length - 1].split(".")[0];
    return { params: { id }, props: { id } };
  });
}

const { id } = Astro.props;
const posts = await Astro.glob("../../data/components/*.md");
const post = posts.find((p) => p.file.endsWith(`${id}.md`))!;
const { frontmatter, Content } = post;
// const source = post.compiledContent();
---

<Components
  {frontmatter}
  links={COMPONENTS}
  link={`/material-design-lite/components/${id}/`}
>
  <!-- <Markdown source={source} {id} /> -->
  <Content />
</Components>
