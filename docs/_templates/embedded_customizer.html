<!doctype html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Material Design Lite customizer</title>

  <link href="//fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" rel='stylesheet'>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">

  <link rel="stylesheet" href="{{page.include_prefix}}/material.min.css" id="main-stylesheet">
  <link rel="stylesheet" href="{{page.include_prefix}}/assets/customizer.css">
  <!-- <script src="{{page.include_prefix}}/assets/customizer.js"></script> -->
</head>
<body class="mdl-gen mdl-color--grey-200" id="mdl-gen-body">
  <style>
    #wheel .selector {
      opacity: 0;
      transition: opacity 0.4s cubic-bezier(0.4, 0.0, 1, 1);
      fill: hsla(0, 0%, 0%, 1.0);
    }
    #wheel .selected .selector {
      opacity: 1;
    }

  </style>
  <svg id="wheel" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g></g>
  </svg>
  <script>
    (function() {
      var wheel = document.querySelector('#wheel');
      var mainG = document.querySelector('#wheel g');
      var config = {
        width: 650, // width of the SVG panel
        height: 650, // height of the SVG panel
        r: 250, // radius of the wheel
        r_i: 100, // radius of the inner hole
        h_d: 40, // height of the dark section
        c: 280, // Distance(center of select circle, center of wheel)
        colors: [ // colors ([light, dark]) of the wheel
          ['#00BCD4', '#00ACC1'], // Cyan  [-500, -600]
          ['#009688', '#00897B'], // Teal [-500, -600]
          ['#4CAF50', '#43A047'], // Green [-500, -600]
          ['#8BC34A', '#7CB342'], // Light Green [-500, -600]
          ['#CDDC39', '#C0CA33'], // Lime [-500, -600]
          ['#FFEB3B', '#FDD835'], // Yellow [-500, -600]
          ['#FFC107', '#FFB300'], // Amber [-500, -600]
          ['#FF9800', '#FB8C00'], // Orange [-500, -600]
          ['#795548', '#6D4C41'], // Brown [-500, -600]
          ['#607D8B', '#546E7A'], // Blue Grey [-500, -600]
          ['#9E9E9E', '#757575'], // Grey [-500, -600]
          ['#FF5722', '#F4511E'], // Deep Orange [-500, -600]
          ['#F44336', '#E53935'], // Red [-500, -600]
          ['#E91E63', '#D81B60'], // Pink [-500, -600]
          ['#9C27B0', '#8E24AA'], // Purple [-500, -600]
          ['#673AB7', '#5E35B1'], // Deep Purple [-500, -600]
          ['#3F51B5', '#3949AB'], // Indigo [-500, -600]
          ['#2196F3', '#1E88E5'], // Blue [-500, -600]
          ['#03A9F4', '#039BE5'], // Light Blue [-500, -600]
        ]
      }
      config.alphaDeg = 360.0/config.colors.length;
      config.alphaRad = config.alphaDeg * Math.PI/180;

      wheel.setAttribute('width', config.width);
      wheel.setAttribute('height', config.height);

      var svgNS = 'http://www.w3.org/2000/svg';
      var fieldTpl = document.createElementNS(svgNS, 'g');
      var lightField = document.createElementNS(svgNS, 'polygon');
      lightField.setAttribute('points', [
        [0, -(config.r_i+config.h_d)].join(','),
        [(config.r_i + config.h_d) * Math.sin(config.alphaRad), -(config.r_i + config.h_d) * Math.cos(config.alphaRad)].join(','),
        [config.r   * Math.sin(config.alphaRad), -config.r   * Math.cos(config.alphaRad)].join(','),
        [0, -config.r].join(','),
      ].join(' '));
      var darkField = document.createElementNS(svgNS, 'polygon');
      darkField.setAttribute('points', [
        [0, -config.r_i].join(','),
        [config.r_i * Math.sin(config.alphaRad), -config.r_i * Math.cos(config.alphaRad)].join(','),
        [(config.r_i + config.h_d) * Math.sin(config.alphaRad), -(config.r_i + config.h_d) * Math.cos(config.alphaRad)].join(','),
        [0, -(config.r_i + config.h_d)].join(','),
      ].join(' '));


      fieldTpl.appendChild(lightField);
      fieldTpl.appendChild(darkField);

      var circle = document.createElementNS(svgNS, 'circle');
      circle.setAttribute('class', 'selector');
      circle.setAttribute('cx', config.c * Math.sin(config.alphaRad/2));
      circle.setAttribute('cy', -config.c   * Math.cos(config.alphaRad/2));
      circle.setAttribute('r', config.c * Math.sin(config.alphaRad/2)/2);
      fieldTpl.appendChild(circle);

      config.colors.forEach(function(color, idx) {
        var field = fieldTpl.cloneNode(true);
        field.querySelector(':nth-child(1)').style.fill = color[0];
        field.querySelector(':nth-child(2)').style.fill = color[1];
        field.addEventListener('click', fieldClicked);
        field.setAttribute('transform', 'rotate(' + config.alphaDeg*idx + ')');
        mainG.appendChild(field);
      });

      mainG.setAttribute('transform', 'translate(' + config.width/2 + ',' + config.height/2 +')');

      var numSelected = 0;
      function fieldClicked(ev) {
        if(numSelected === 2) {
          Array.prototype.forEach.call(mainG.childNodes, function(f) {
            f.setAttribute('class', '');
          });
          numSelected = 0;
        }
        var parent = ev.target.parentElement || ev.target.parentNode;
        if((parent.getAttribute('class') || '').indexOf('selected') !== -1) {
          return;
        }
        parent.setAttribute('class', 'selected selected--'+numSelected);
        numSelected++;
      }
    })();
  </script>

  <script src="{{page.include_prefix}}material.min.js"></script>
</body>
</html>
