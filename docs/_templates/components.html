{% extends 'layout.html' %}

{% block content %}
<link href="{{page.include_prefix}}assets/components.css" rel="stylesheet">
<script src="{{page.include_prefix}}assets/components.js"></script>
<link rel="stylesheet" href="{{page.include_prefix}}components/demos.css">

<div class="mdl-components mdl-js-components">
  <aside class="mdl-components__nav docs-text-styling">
    {% for category in page.categories %}
    <a href="#{{ category.name }}-section" class="mdl-components__link mdl-component {{ category.name }}">
      <div class="mdl-components__link-image"
           style="background-image: url('{{page.include_prefix}}assets/comp_{{ category.name }}.png')">
      </div>&nbsp;
      <span class="mdl-components__link-text">{{ category.title }}</span>
    </a>
    {% if loop.first %}
      <script>
        if (window.location.hash == null || window.location.hash == "" || window.location.hash == "#") {
          var link = document.getElementsByClassName("mdl-components__link")[0];
          link.className = link.className + " is-active";
        }
      </script>
    {%- endif %}
    {%- endfor %}
  </aside>
  <main class="mdl-components__pages">
    {% for category in page.categories -%}
    <section id="{{ category.name }}-section" class="mdl-components__page mdl-grid mdl-cell mdl-cell--12-col">
      <div class="mdl-cell mdl-cell--12-col">
        <span class="docs-text-styling">
          <div class="mdl-typography--display-3">{{ category.title }}</div>
          <p>{{ category.description }}</p>
          <br><br>
        </span>
        {% for component in category.components %}
          {% set demo_css = "../../src/" + component.name + "/demo.css" %}
          <style>
            {% include demo_css ignore missing %}
          </style>
          {% set demo_js = "../../src/" + component.name + "/demo.js" %}
          <script>
            {% include demo_js ignore missing %}
          </script>
          <span class="docs-text-styling">
            <h1 class="mdl-components__classname">{{ component.class }}</h1>
          </span>
          {% set demo = "../../src/" + component.name + "/demo.html" %}
          {% include demo ignore missing %}
          <span class="docs-text-styling">
            {% set doc = "../../dist/components/" + component.name + "/index.html" %}
            {% include doc ignore missing %}
          </span>
        {%- endfor %}
      </div>
    </section>
    {% if loop.first %}
    <script>
      if (window.location.hash == null || window.location.hash == "" || window.location.hash == "#") {
        var page = document.getElementsByClassName("mdl-components__page")[0];
        page.className = page.className + " is-active";
      }
    </script>
    {%- endif %}
    {%- endfor %}
</main>
</div>

{% endblock %}
