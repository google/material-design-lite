<div class="snippet-group">
  <div class="snippet-header">
    <div class="snippet-demos">
      <div class="snippet-demo"></div>
      {% for snippet in snippet_group %}
        {% set snippet_file = "../../src/" + component_name + "/snippets/" + snippet.file %}
        <div class="snippet-demo">
          <div class="snippet-demo-container" id="{{ component_name }}/{{ snippet.file }}/demo">
          {% include snippet_file ignore missing %}
          </div>
        </div>
      {%- endfor %}
      <div class="snippet-demo"></div>
    </div>
    <div class="snippet-captions">
      <div class="snippet-caption"></div>
      {% for snippet in snippet_group %}
        <div class="snippet-caption">
          <button class="mdl-color-text--grey-600 mdl-button mdl-js-button mdl-js-ripple-effect" id="{{ component_name }}/{{ snippet.file }}/copy" href="#{{ component_name }}/{{ snippet.file }}">
            <i class="material-icons copy">content_copy</i> {{ snippet.caption }}
          </button>
        </div>
      {%- endfor %}
      <div class="snippet-caption"></div>
    </div>
  </div>
  <div class="snippet-code">
    <pre class="language-markup">{% for snippet in snippet_group %}<code id="{{ component_name }}/{{ snippet.file }}"></code>{%- endfor %}</pre>
    <script>
      // Grab the MDL element code now and inject it into the <code> block and the copy-paste button.
      // We're doing this inline/now to make sure this is done before the MDL library modifies the DOM.
      {% for snippet in snippet_group %}
        var demoContainer = document.getElementById("{{ component_name }}/{{ snippet.file }}/demo");
        var codeContainer = document.getElementById("{{ component_name }}/{{ snippet.file }}");
        var copyButton = document.getElementById("{{ component_name }}/{{ snippet.file }}/copy");

        // Put the code in the <code> block.
        var code = demoContainer.innerHTML.trim();
        codeContainer.textContent = code + "\n";

        // Add the copy-to-clipboard Flash button overlay in the button.
        var clippySwf = '<object class="snippet-copy" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000">' +
          '<param name="movie" value="/assets/clippy.swf"/>' +
          '<param name="wmode" value="transparent" />' +
          '<param name="quality" value="low" />' +
          '<param name="scale" value="exactfit" />' +
          '<embed src="/assets/clippy.swf" scale="exactfit" quality="low" wmode="transparent" FlashVars="text=' + code.replace(/"/g, '&quot;') + '"/>' +
          '</object>';
        copyButton.innerHTML += clippySwf;
      {%- endfor %}
    </script>
  </div>
</div>
